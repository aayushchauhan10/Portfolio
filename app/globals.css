@import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root { --radius: 16px; }
html, body { 
  height: 100%; 
  font-family: "Bricolage Grotesque", sans-serif;
}

/* Performance optimizations */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* CSS Containment for better performance */
section {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}

/* GPU acceleration for transforms and animations */
[class*="transform"],
[class*="translate"],
[class*="scale"],
[class*="rotate"] {
  transform: translateZ(0);
}

/* Optimize blur effects - reduce blur amount for better performance */
[class*="backdrop-blur-xl"] {
  -webkit-backdrop-filter: blur(16px);
  backdrop-filter: blur(16px);
}

[class*="backdrop-blur-md"],
[class*="backdrop-blur"] {
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
}

/* Force GPU acceleration for blur */
.backdrop-blur,
.backdrop-blur-sm,
.backdrop-blur-md,
.backdrop-blur-lg,
.backdrop-blur-xl {
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Smooth transitions with hardware acceleration */
.transition-all,
.transition-colors,
.transition-opacity,
.transition-transform {
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  will-change: auto; /* Reset will-change when not needed */
}

/* Optimize animations */
@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* Reduce motion for accessibility and performance on demand */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

html.lenis, html.lenis body { height: auto; }
.lenis.lenis-smooth { scroll-behavior: auto !important; }
.lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
.lenis.lenis-stopped { overflow: hidden; }
.lenis.lenis-smooth iframe { pointer-events: none; }

/* Starry background tiny dots */
.bg-stars {
  background-image: radial-gradient(1px 1px at 20px 30px, rgba(255,255,255,0.8), transparent),
    radial-gradient(1px 1px at 80px 120px, rgba(255,255,255,0.7), transparent),
    radial-gradient(1px 1px at 200px 50px, rgba(255,255,255,0.6), transparent),
    radial-gradient(1px 1px at 300px 200px, rgba(255,255,255,0.5), transparent);
  background-size: 300px 300px;
  image-rendering: pixelated;
}

@keyframes float-slow {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
}

.skeleton { @apply animate-pulse bg-neutral-200 dark:bg-neutral-800 rounded-md; }
